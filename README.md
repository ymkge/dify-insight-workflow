# dify-insight-workflow

このワークフローのゴールは、「散らばった最新情報を自動で拾い上げ、ビジネスに役立つ示唆（インサイト）に変えて通知すること」です。

---

## 1. 全体コンセプト

特定のキーワードや競合サイトから最新情報を収集し、単なる要約ではなく「自社にとっての意味合い」を付加して、指定したチャンネル（Slack/Teams等）へ配信する。

## 2. ワークフロー構成（ロジック）

1. **インプット・ソース (Data Sources)**
* **Google News RSS:** 特定キーワード（例：「生成AI 業界動向」）の最新記事。
* **特定のWebサイト:** 競合他社のプレスリリース掲載ページなど。


2. **データ抽出・フィルタリング (Processing)**
* 過去24時間以内の記事のみに絞り込み。
* HTTPリクエストを使用して、記事タイトルとURL、概要を取得。


3. **AIインサイト生成 (Intelligence)**
* **要約:** 記事の内容を3行で要約。
* **重要度判定:** ビジネスへの影響度を低・中・高で判定。
* **ネクストアクション提案:** 「このニュースを受けて、我々が検討すべきこと」をAIが提案。


4. **アウトプット (Output)**
* 整形されたMarkdownテキストを生成。
* Webhook経由でSlack/Teamsへ通知。



---

## 3. 入力パラメータ (Variables)

Difyの開始ノードで設定する項目です。

| 変数名 | 型 | 内容 |
| --- | --- | --- |
| `target_keywords` | String | 収集したいキーワード（例：生成AI, SaaS） |
| `insight_focus` | String | 分析の切り口（例：技術動向重視、競合の価格戦略重視） |
| `notification_channel` | String | 通知先のWebhook URL |

---

## 4. プロンプト設計（核となる部分）

LLMノードに設定するシステムプロンプトの構成案です。

> **役割:** あなたは戦略コンサルタント兼リサーチアシスタントです。
> **タスク:** 収集されたニュース群から、ユーザーが設定した「分析の切り口」に基づき、実務に役立つインサイトを抽出してください。
> **出力フォーマット:**
> 1. 【ニュース概要】
> 2. 【なぜ重要か】（ビジネス視点での分析）
> 3. 【推奨アクション】（自社がとるべき一歩）
> 
> 

---

## 5. 拡張性の検討（今後の練習項目）

* **多言語対応:** 海外の最新論文やTechニュースを翻訳して要約。
* **RAG連携:** 社内の既存戦略資料と照らし合わせ、「既知の情報か新規の情報か」を判別。
* **データベース保存:** Notion等に蓄積し、週報を自動作成。
* **ファクトチェック:** 情報の不確からしさを判定して確信度を出す。